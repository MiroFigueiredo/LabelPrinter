
package gui;

import java.nio.file.Files;
import java.nio.file.Paths;
import java.text.SimpleDateFormat;
import java.util.Calendar;

import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.control.TextField;

public class MainViewControler {
	@FXML
	private Button btnPrint;
	@FXML
	private Button btnPrintShipLbl;
	@FXML
	private TextField txbRedId;

	@FXML
	private TextField txbQty;

	@FXML
	private TextField txbPrinter;

	@FXML
	public void btnPrint() throws Exception {
		Calendar calendar = Calendar.getInstance();
		String LabelTemplate = "";

		for (int i = 1; i <= Integer.parseInt(txbQty.getText()); i++) {

			LabelTemplate += "^XA^FO950,50^GFA,1876,1876,28,,::01QF8L07UFR01JF,03RFK01VFEQ03JF8,07RFEJ07WF8P03JF8,07SF8I0XFCP07JF8,0TFE003XFEP07JF,0UF007YF8O0KF,0UF80gFCO0JFE,0UFE0gFCN01JFE,0VF1gFEN03JFC,0VFBgFEN03JFC,0gXFN03JF8,0gXFN07JF8,07gWF8M07JF,03gWF8M0KF,Q03QFQ0KFCM0JFE,R0PFEQ03JFCL01JFE,R07OFEQ01JFEL01JFE,R03OFER0JFEL03JFC,R01OFER0KFL03JFC,S0OFER07JFL07JF8,S07NFER07JF8K07JF,S03NFER03JF8K0KF,S01OF8Q03JFCK0JFE,S01OFCQ01JFCJ01JFE,07IFEM01WFCI01JFCJ01JFC,0KFN0XF8I0JFEJ03JFC,0KF8M0XFEI0KFJ03JF8,0KF8M0YFI07JFJ07JF8,0KF8M0YF8007JF8I07JF8,";
			LabelTemplate += "0KF8M0YFC003JF8I07JF,0KF8M0YFE001JFCI0KF,0KF8M0gF001JFCI0JFE,0KF8M0gF001JFE001JFE,0KF8M0gF800JFE003JFC,0KF8M0gFC00KF003JF8,0KF8M0KF1TFC007JF007JF8,0KF8L01KF03SFC007JF007JF,0KF8L01KFO01KFC003JF80KF,0KF8L01KFP0KFE003JF80JFE,0KF8L03JFEP07JFE001JFC0JFE,0KF8L07JFEP03JFE001JFE1JFC,0KF8L0KFEP03JFEI0JFE1JFC,0KF8K01KFEP03JFEI07JF3JFC,0KF8K03KFCP03JFEI07JF3JF8,0KF8K07KFCP03JFEI03OF8,0KF8K0LF8P07JFEI03OF,0KF8J03LF8P0KFEI03OF,0WFI07RFCI01NFE,0VFEI0SFCI01NFC,0VFCI0SFCJ0NFC,0VFCI0SF8J0NF8,0VF8I0SF8J07MF8,0VFJ0SFK07MF,0UFEJ0SFK03MF,0UF8J0RFEK03MF,0UFK0RFCK01LFE,0TFEK0RF8L0LFE,0TF8K0RFM0LFC,0SFEL0QFCM07KFC,0SFM07PFN03KF8,07QF8M03OF8N01JFE,,::^FS";
			LabelTemplate += "^FX Fourth section (the two boxes on the bottom).^FO10,10^GB1190,590,3^FS^CF0,220^FO170,200^FD---RegId---^FS^CF0,80^FO300,470^FD---Now---^FS^XZ";

			SimpleDateFormat formatter = new SimpleDateFormat("dd/MM/yyyy HH:mm:ss");

			LabelTemplate = LabelTemplate.replaceAll("---RegId---", txbRedId.getText());
			LabelTemplate = LabelTemplate.replaceAll("---Now---", formatter.format(calendar.getTime()));

		}
		String path = txbPrinter.getText();
		Files.write(Paths.get(path), LabelTemplate.getBytes());

	}

}
